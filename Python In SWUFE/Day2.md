# 逻辑判断与流程控制(if, for, try)

## 0. 今日内容安排

原定计划的第二天应该是字符串与文件处理，但是写的时候发现需要有一些流程控制的补充，因而将逻辑判断与流程控制这一部分提前分享。今天首先介绍逻辑操作符，然后是控制流的具体语句语法，最后是一个关于股票代码的一个小项目。

## 1. 逻辑操作符

### 1.1 比较类

所谓“比较类”，也就是说这一类操作是基于值$a$和值$b$的比较，判断$a$和$b$之间是否有某种大小关系，于是很容易地想到初等数学中的大于小于等符号，在Python里也的确是通过这些符号来进行判别（如下表），可能需要注意的是不等于、不大于及不小于的符号。

| 操作符 |意义 |
| :--- | :--- |
| == | 等于 |
| != | 不等于 |
| < | 小于 |
| > | 大于 |
| <= | 不大于 |
| >= | 不小于 |

```Python
# Example
>>> 2019 == 2019
True

# 在编程语言中，字符串2019和整数2019被认为是不同的两个数
>>> 2019 == '2019'
False

# 但是我们可以用 == 和 != 比较两个字符串
>>> 'swufe' == 'SWUFE'
False

>>> 'SWUFE' == 'SWUFE'
True

>>> 666 > 888
False
```

### 1.2 逻辑类

而所谓“逻辑”，无非是“或”、“与”、“非”三种逻辑关系，在Python中，它们分别以`or`, `and`, `not`关键字来表示（所以大家自己在写变量名的时候不能用这种辞来命名，不然会有语义的冲突噢），下面给出一些用例。

```Python
>>> True or False
True

>>> True and False
False

>>> (9 > 7) and (10 == 11)
False

>>> 'swufe' == 'SWUFE' or 'SWUFE' == 'SWUFE'
True

>>> not False
True

# 表演一下“双重否定等于肯定”
>>> not not True
True
```

## 2. 流程控制语句

很多时候我们做一个事情需要“分情况讨论”：比如今天如果今天有健身/跑步，那么就去健身组/跑马组打卡，但如果是写了代码，则要在编程组打卡；也会将某一个事情做很多遍：比如在新财菁的活动周里，每天都要打卡（但是打卡的内容可能是稍微会有不同的）。

而在实现任务自动化代码化的过程中，如何让代码也学会这样的“思考方式”便很有意思，因此，在这一部分将简要介绍非常有用的循环和判断语句。

### 2.1 if, else, elif

首先是“分情况讨论”的工作流程。如果-那么的逻辑被表现为“if-else”语句，同时，在Python中，`else if`可以直接写作`elif`的形式。

这样一来，“如果发生事件a，则去完成b任务；否则，如果c任务已完成，那么完成d任务，不然便去完成c任务”用代码表现出来是这样的：

**注意：Python中以空格缩进的方式表现代码块的层次**。

```Python
if a:
    # do b
elif c_is_done:
    # do d
else:
    c
```

那么下面的这个新财菁本周六的文体美学耍五开花现场也可以代码化了。

可以看到在前面几次否定回答之后紧接着是令人窒息的“连环追问”，而最后一次则是“直接安排上了”。也就是说我们在最初会用到`elif`，最后一次条件判断将会用到`else`。

```flow
st=>start: 今天已经过去了一半多
op=>operation: 看来是欠缺了什么
cond_sprt=>condition: 运动了吗？
cond_code=>condition: 编程了吗？
cond_mv=>condition: 看复联了吗？
cond_cur=>condition: 拍美食了吗？
e=>end: 走玩桌游去
st->cond_sprt
cond_sprt(yes, right)->e
cond_sprt(no)->cond_code
cond_code(yes, right)->e
cond_code(no)->cond_mv
cond_mv(yes, right)->e
cond_mv(no)->cond_cur
cond_cur(yes, right)->e
cond_cur(no)->op
op(right)->e
```

上述过程的伪代码大概是这样：

```Python
if sport：
    go board_game
elif coding:
    go board_game
elif movie:
    go board_game
elif food:
    go board_game
else:
    go board_game
```

多说一句：可能有的大佬提出可以用“switch”，但是Python里面并无这一语法，官方解释请点击[这里查看](https://docs.python.org/2/faq/design.html#why-isn-t-there-a-switch-or-case-statement-in-python)

### 2.2 while, for

“重复某一任务”的实现便交给**循环语句**，Python中主要有while和for两种语句，其实实现的功能类似，与其他编程语言的用法也类似（包括`break`和`continue`的用法），大家依照自己的喜好进行选择就好（个人建议for循环优先考虑）。下面是它们的用例。

```Python
# 目标：连续输出5次“Hello world”
# while语句实现
count = 0
while count < 5:
    print("Hello world")
    count = count + 1

# for语句实现
for i in range(5):
    print("Hello world")
```

## 3. 动手小项目_批量格式化不规整的股票代码(eg. “1” => “000001”)

这个小项目或者说小工具应该是我财人都非常需要的一个功能，我们知道深圳交易所和香港交易所的股票代码大都以“0”开头，比如“000001”、“00400”、“02098”等，这种形式的股票代码有时会出现这样的小问题：有时候存储或者读取期间，软件会把前面的“0”抹掉，然后这些股票代码变成了“1”、“400”、“2098”这样的形式，这会引入一些神奇的bug，所以咱们今天来尝试写一小段代码把下面列表中的股票代码规整一下。

```Python
symbol = ['1', '2', '4', '600010', '5', '6', '600000', '7', '8', '9', '10', '11', '12', '14', '600015', '16', '17', '18', '000019', '600016', '20', '21', ' 23', ' 25', '26', '600006', '27', '28', '29', '30', '600007', '31', '000032', '34', '600009', '35', '36', '37', '38', '39', '600017', '40', '42', '43', '45', '46', '48', '49', '600018', '50', '55', '600020', '600011', '56', '58', '59', '600008', '60', '61', '62', '63', '600004', '65', '66', '68', '69', '70', '600012', '78', '000088', '89', '600019', '90', '96', '99']
```

Tips：三种可用的方法如下:

- **方法1：str.zfiil(uniform_len)**

  - Python用例：`'1'.zfill(6)`
  - 输出结果：'000001'

- **方法2：格式化**

  - Python用例：`'%06d'%1`
  - 输出结果：'000001'

- **方法3：str.format()**

  - Python用例：`'{:06}'.format(1)`
  - 输出结果：'000001'
